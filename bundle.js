var germanTTS;(()=>{var e={},t={};function n(s){var o=t[s];if(void 0!==o)return o.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,n),r.exports}!function(){"use strict";let e;try{{const t=n(Object(function(){var e=new Error("Cannot find module 'german-noun'");throw e.code="MODULE_NOT_FOUND",e}()));e=t.default||t}}catch(t){e=null}const t={der:new Set(["mann","tisch","stuhl","baum","hund","tag","berg","fluss","weg","zug","computer","fernseher","kühlschrank","stift","buch","koffer","schuh","automat","apfel","ball","bruder","vater","sohn","kopf","fuß","arm","augen","mund","zahn","bart","hut","mantel","schrank","turm","wald","park","platz","bahnhof","flughafen","hafen","bürger","könig","kaiser","freund","lehrer","schüler","student","professor","direktor"]),die:new Set(["frau","tür","wand","straße","stadt","zeit","welt","nacht","sonne","blume","hand","katze","maus","milch","woche","uhr","tasche","zeitung","schule","universität","mutter","tochter","schwester","nase","zunge","brille","jacke","schuhe","flasche","tasse","lampe","bahn","maschine","fabrik","bank","kirche","bibliothek","musik","kamera","karte","post","pizza","frage","antwort","sprache","zeitung","zeitschrift"]),das:new Set(["haus","auto","kind","wasser","bier","essen","brot","glas","fenster","bild","rad","flugzeug","schiff","tier","pferd","schwein","huhn","ei","messer","bett","sofa","telefon","radio","handy","tablet","spiel","video","foto","jahr","monat","jahrhundert","jahrzehnt","maß","ziel","problem","thema","klima","system","projekt","werk","museum","kino","theater","hotel","buch"])};!function(){const e="speechSynthesis"in window&&"SpeechSynthesisUtterance"in window,t=document.getElementById("tts-text"),n=document.getElementById("tts-voice"),s=document.getElementById("tts-voiceHint"),o=document.getElementById("tts-speakBtn"),r=document.getElementById("tts-pauseBtn"),a=document.getElementById("tts-resumeBtn"),i=document.getElementById("tts-stopBtn"),c=document.getElementById("tts-rate"),l=document.getElementById("tts-pitch"),d=document.getElementById("tts-volume"),u=document.getElementById("tts-rateVal"),m=document.getElementById("tts-pitchVal"),h=document.getElementById("tts-volVal"),g=document.getElementById("tts-status"),f=document.getElementById("tts-charCount");if(!t||!n)return;localStorage.getItem("tts_text")&&(t.value=localStorage.getItem("tts_text"));let p=null;function v(){f&&(f.textContent=t.value.length.toString()),localStorage.setItem("tts_text",t.value)}function y(e,t=!0){g&&(g.textContent=e||"",g.style.color=t?"var(--success)":"var(--error)")}if(["rate","pitch","volume","voiceURI"].forEach(e=>{const t=localStorage.getItem("tts_"+e);if("voiceURI"===e&&t&&(p=t),t&&"voiceURI"!==e){const n=document.getElementById("tts-"+e);n&&(n.value=t)}}),t.addEventListener("input",v),v(),!e)return y("Your browser does not support Speech Synthesis. Try Chrome, Edge, or Safari.",!1),void[o,r,a,i,n,c,l,d].forEach(e=>{e&&(e.disabled=!0)});let E=[];function b(){if(!n)return;n.innerHTML="",E=window.speechSynthesis.getVoices();const e=E.filter(e=>/de(-|_|\b)/i.test(e.lang)||/German/i.test(e.name)),t=e.length?e:E;if(e.length)s&&(s.textContent=`Found ${e.length} German voice(s).`);else if(s){s.textContent="No German voices detected.";const e=document.createElement("button");e.id="tts-installHelp",e.textContent="How to install",e.style.marginLeft="8px",e.style.padding="4px 8px",e.style.background="var(--accent)",e.style.border="none",e.style.borderRadius="6px",e.style.cursor="pointer",e.style.color="var(--bg)",e.style.fontWeight="600",e.addEventListener("click",S),s.appendChild(e)}t.forEach(e=>{const t=document.createElement("option");t.value=e.voiceURI,t.textContent=`${e.name} — ${e.lang}${e.default?" (default)":""}`,p&&e.voiceURI===p&&(t.selected=!0),n.appendChild(t)}),!p&&t[0]&&(p=t[0].voiceURI),0===E.filter(e=>/de(-|_|\b)/i.test(e.lang)).length&&s&&(s.style.color="var(--error)")}function S(){document.body.insertAdjacentHTML("beforeend",'\n        <div class="modal">\n          <div class="modal-content">\n            <h3>Install German Voices</h3>\n            <p><strong>Chrome/Edge:</strong> Settings → Advanced → Accessibility → Text-to-speech → Manage voices</p>\n            <p><strong>Windows:</strong> Settings → Time & Language → Speech → Manage voices</p>\n            <p><strong>macOS:</strong> System Preferences → Accessibility → Spoken Content → System Voice</p>\n            <p><strong>Android:</strong> Settings → Accessibility → Text-to-speech output</p>\n            <button onclick="this.closest(\'.modal\').remove()">Close</button>\n          </div>\n        </div>\n      ')}function k(){const e=speechSynthesis.speaking,t=speechSynthesis.paused;o&&(o.disabled=e),r&&(r.disabled=!e||t),a&&(a.disabled=!e||!t),i&&(i.disabled=!e)}function w(){const e=(t.value||"").trim();if(e)try{if(0===window.speechSynthesis.getVoices().length)return void y("No local voices available.",!1);window.speechSynthesis.cancel();const t=new SpeechSynthesisUtterance(e),s=function(){const e=n.value||p;return E.find(t=>t.voiceURI===e)||null}()||function(){const e=E.filter(e=>/de(-|_|\b)/i.test(e.lang));return e.find(e=>"de-DE"===e.lang||"de-CH"===e.lang||"de-AT"===e.lang)||e[0]||E[0]}();s?(t.voice=s,t.lang=s.lang||"de-DE"):t.lang="de-DE",t.rate=parseFloat(c.value),t.pitch=parseFloat(l.value),t.volume=parseFloat(d.value),t.onstart=()=>{y("Speaking…"),k()},t.onend=()=>{y("Done."),k()},t.onerror=e=>{y("Error: "+(e.error||"unknown"),!1),k()},t.onpause=()=>{y("Paused"),k()},t.onresume=()=>{y("Speaking…"),k()},speechSynthesis.speak(t),k()}catch(e){y(`Error: ${e.message}`,!1),console.error("TTS Error:",e)}else y("Please enter some German text first.",!1)}b(),void 0!==speechSynthesis.onvoiceschanged&&(speechSynthesis.onvoiceschanged=()=>{b()}),o&&o.addEventListener("click",w),r&&r.addEventListener("click",()=>{speechSynthesis.pause(),k()}),a&&a.addEventListener("click",()=>{speechSynthesis.resume(),k()}),i&&i.addEventListener("click",()=>{speechSynthesis.cancel(),y("Stopped."),k()}),document.addEventListener("keydown",e=>{(e.ctrlKey||e.metaKey)&&"Enter"===e.key&&(document.activeElement===t||document.activeElement?.closest('[data-feature="tts"]'))&&(e.preventDefault(),w())}),n&&n.addEventListener("change",()=>{p=n.value,localStorage.setItem("tts_voiceURI",p)}),c&&l&&d&&[c,l,d].forEach(e=>{const t={"tts-rate":u,"tts-pitch":m,"tts-volume":h};e.addEventListener("input",()=>{const n=t[e.id];n&&(n.textContent=parseFloat(e.value).toFixed(1)),localStorage.setItem("tts_"+e.id.replace("tts-",""),e.value)});const n=t[e.id];n&&(n.textContent=parseFloat(e.value).toFixed(1))}),k()}(),function(){const n=document.getElementById("artikel-noun"),s=document.getElementById("artikel-result");function o(n){if(!n||0===n.trim().length)return null;const s=n.trim().toLowerCase();if(e)try{let t;if("function"==typeof e?t=e(s):e.getArticle?t=e.getArticle(s):e.determineArticle?t=e.determineArticle(s):e.find&&(t=e.find(s)),t){if(t=t.toLowerCase(),"m"===t||"masculine"===t)return"der";if("f"===t||"feminine"===t)return"die";if("n"===t||"neuter"===t)return"das";if("der"===t||"die"===t||"das"===t)return t}}catch(e){console.error("Error using german-noun package:",e)}for(const[e,n]of Object.entries(t))if(n.has(s))return e;return null}function r(e,t){if(!e||0===e.trim().length)return s.textContent="",void(s.style.color="");if(t){const n=e.charAt(0).toUpperCase()+e.slice(1);s.textContent=`${t} ${n}`,s.style.color="var(--success)",s.style.fontSize="16px",s.style.fontWeight="600"}else s.textContent=`Unable to determine article for "${e}".`,s.style.color="var(--muted)",s.style.fontSize="14px",s.style.fontWeight="400"}n&&s&&(n.addEventListener("input",e=>{const t=e.target.value.trim();r(t,o(t))}),n.addEventListener("keypress",e=>{if("Enter"===e.key){const t=e.target.value.trim();r(t,o(t))}}))}()}(),germanTTS={}})();